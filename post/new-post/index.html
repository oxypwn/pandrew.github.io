<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Arks: From block to solid rock! | Paul Liljenberg</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link rel="alternate" type="application/rss+xml" title="Paul Liljenbergs Blog" href="http://localhost:4000/feed/index.xml">
  <link rel="shortcut icon" href="http://www.gravatar.com/avatar/b2a4628e8eb9c7a8134f68098567049f.png
?s=16">
  <link rel="stylesheet" href="/css/reset.css">
  <link rel="stylesheet" href="/css/mobile.css">
  <link rel="stylesheet" href="/css/desktop.css" media="(min-width:40em)">
  <link rel="stylesheet" href="/css/pygments.css">
  <link rel="stylesheet" href="/css/font.css">
  <script type="text/javascript" charset="utf-8" src="/js/matchmedia.js"></script>
  <script type="text/javascript" charset="utf-8" src="/js/picturefill.js"></script>
</head>

<body>
<div class="wrapper">
    <header>
    <div class="container">
        <div class="profile">
            <div class="social">
                <a href="http://twitter.com/paul_andrew">
                    <div data-picture data-alt="Twitter">
                        <div data-src="/img/twitter16.png"></div>
                        <div data-src="/img/twitter32.png"     data-media="(-webkit-min-device-pixel-ratio: 2)"></div>
                        <noscript><img src="/img/twitter16.png" alt="Twitter"></noscript>
                    </div>
                </a>
                <a href="http://github.com/pandrew">
                    <div data-picture data-alt="Github">
                        <div data-src="/img/octocat16.png"></div>
                        <div data-src="/img/octocat32.png"     data-media="(-webkit-min-device-pixel-ratio: 2)"></div>
                        <noscript><img src="/img/octocat16.png" alt="Github"></noscript>
                    </div>
                </a>
            </div>
            <!--           <img src="http://www.gravatar.com/avatar/b2a4628e8eb9c7a8134f68098567049f.png
?s=54" alt="avatar" class="avatar" />
            <img src="http://www.gravatar.com/avatar/b2a4628e8eb9c7a8134f68098567049f.png
?s=108" alt="avatar" class="avatar-large" />
         -->
        </div>
        <h5 class="logo"><a href="http://borntobebash.zombieland.se">Paul Liljenberg</a></h5>
        <nav>
            <ul>
                
                    <li><a href="http://borntobebash.zombieland.se">Blog</a></li>
                
                
                <li><a href="http://borntobebash.zombieland.se/about">About</a></li>
                
                
                <li><a href="http://borntobebash.zombieland.se/projects">Projects</a></li>
                
            </ul>
        </nav>
        <div class="nav-slider">
            <div class="nav-selection "></div>
        </div>
    </div>
</header>

    
    <section id="main">
        <article class="container">
            <article class="post">
                <div class="post-header">
                    <p class="date">Jan 27, 2014</p>
                    <h1>Arks: From block to solid rock!</h1>
                </div>
                <div class="post-body">
                    <p>This is the first post for the <code>pandrew/arks</code> repository used to install archlinux unattendedly. From this momement this blog will be used
as a tool to document the progress for this project.</p>

<p>The older project <code>pandrew/ks</code> was intended to be multi-branched so when installing from an url it was looking at the branch for its code. That meant that each os had its own branch. 
I thought it was time for a change and give the installation system for archlinux a new repo of its own. This will make it easier to maintain fixes and not mix these with the other installation systems.</p>

<p>Last weeks updates has mostly been focused on updating documentation for the new repo. Besides documenting the profiles; there have also been some code review as it was quite  a while since
I installed archlinux using this system. The documentaion should also be more easily read using <a href="http://progrium.viewdocs.io/viewdocs">viewdocs.io</a> and you can read the docs <a href="http://pandrew.viewdocs.io/arks">here</a></p>

<p>There are two new features to implement in Arks for this course:</p>

<h3 id="toc_0">Account passwords via mail</h3>

<p>The basic idea is that the users being added in the profile should have their passwords sent via email. These passwords is autogenerated and the user will be forced to update this
upon first login. I will use mailguns api to trigger the mailing function for every user being installed. With the demo account we can add upp to 300 users per day for a node. 
This should be fairly easy as all users have their own script. That way we can set each users email and we place the api key in the profile for the node.
If the api key is set it will email the user and if it&#39;s not it will set the password to the username.</p>

<h3 id="toc_1">Puppet/Chef integration</h3>

<p>This is the second step in the upgrade for Arks and it involves integrating Chef and/or Puppet into the system. If the <code>foo</code> is set it will trigger the installation of that particular block and
talk to server <code>bar</code> for further instructions upon final reboot.</p>

<p>As server I will use either the Chef enterprise or the Puppet counterpart so we can be sure that we have a working server. They usually have support for upp to 5 or 10 nodes and should be enough
for this project.</p>

                </div>
            </article>
        </article>
    </section>
    
    <footer>
    <nav class="container">
        <ul>
            <li>&copy; Paul Liljenberg 2013</li>
        </ul>
    </nav>
</footer>

</div>
</body>
<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33073396-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>
<script type="text/javascript" charset="utf-8">
    document.onreadystatechange = function() {
        if ( document.readyState == 'complete' ) {
            var active = document.querySelector( 'header a.active' ).innerHTML.toLowerCase(),
                links = document.querySelectorAll( 'header nav li a'),
                selection = document.querySelector( 'header .nav-selection' ),
                i, link;
            for ( i = 0; i < links.length; i++ ) {
                link = links[ i ];
                console.log(link);
                link.addEventListener( 'mouseover', function() {
                    selection.className = 'nav-selection';
                    selection.className = 'nav-selection ' + this.innerHTML.toLowerCase();
                });
                link.addEventListener( 'mouseout', function() {
                    selection.className = 'nav-selection ' + active;
                });
            }
        }
    };
</script>

</html>

